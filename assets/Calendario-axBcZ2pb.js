import{c as p,u as O,r as v,j as e,C as B,B as o,T as b,M as H,I as N,t as k}from"./index-Ru6Kzlbq.js";import{C as d,a as m,b as h,c as x}from"./Card-DZGJfJGn.js";import{u as J}from"./index.esm-y99Rov83.js";import{P as L}from"./plus-Dc6KWFX-.js";const Q=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],U=p("cake",Q);const G=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],K=p("chevron-left",G);const V=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],W=p("chevron-right",V);function se(){const{events:u,addEvent:M,removeEvent:w,canManageCalendar:i,siteConfig:C}=O(),[D,l]=v.useState(!1),{register:c,handleSubmit:E,reset:I}=J(),[s,y]=v.useState(new Date),S=new Date(s.getFullYear(),s.getMonth()+1,0).getDate(),F=new Date(s.getFullYear(),s.getMonth(),1).getDay(),_=Array.from({length:S},(t,r)=>r+1),A=Array.from({length:F},(t,r)=>r),T=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],Y=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],z=()=>{y(new Date(s.getFullYear(),s.getMonth()-1,1))},P=()=>{y(new Date(s.getFullYear(),s.getMonth()+1,1))},R=t=>{M({id:crypto.randomUUID(),...t}),k.success("Evento adicionado!"),I(),l(!1)},g=(t,r)=>{confirm(`Remover "${r}"?`)&&(w(t),k.success("Evento removido."))},f=u.filter(t=>{if(t.type!=="birthday")return!1;const[,r]=t.date.split("/");return parseInt(r)-1===s.getMonth()}).sort((t,r)=>{const[a]=t.date.split("/"),[n]=r.date.split("/");return parseInt(a)-parseInt(n)});return e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-[calc(100vh-8rem)]",children:[e.jsxs(d,{className:"flex-1 flex flex-col",children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[e.jsxs(h,{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(B,{className:"h-6 w-6 text-primary-600"}),Y[s.getMonth()]," ",s.getFullYear()]}),e.jsxs("div",{className:"flex gap-2",children:[i&&e.jsxs(o,{size:"sm",onClick:()=>l(!0),children:[e.jsx(L,{className:"h-4 w-4 mr-2"})," Novo Evento"]}),e.jsx(o,{variant:"outline",size:"icon",onClick:z,children:e.jsx(K,{className:"h-4 w-4"})}),e.jsx(o,{variant:"outline",size:"icon",onClick:P,children:e.jsx(W,{className:"h-4 w-4"})})]})]}),e.jsxs(x,{className:"flex-1 overflow-y-auto",children:[e.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center font-medium text-secondary-500",children:T.map(t=>e.jsx("div",{children:t},t))}),e.jsxs("div",{className:"grid grid-cols-7 gap-2 min-h-[500px] grid-rows-5",children:[A.map(t=>e.jsx("div",{},`empty-${t}`)),_.map(t=>{const r=u.filter(a=>{const n=a.date.split("/"),$=parseInt(n[0]),q=parseInt(n[1])-1,j=n[2]?parseInt(n[2]):null;return!($!==t||q!==s.getMonth()||j&&j!==s.getFullYear())});return e.jsxs("div",{className:"border border-secondary-100 dark:border-secondary-800 rounded-lg p-2 min-h-[80px] hover:bg-secondary-50 dark:hover:bg-secondary-900 transition-colors relative group flex flex-col gap-1",children:[e.jsx("span",{className:"text-secondary-400 font-medium text-sm",children:t}),r.map(a=>e.jsxs("div",{className:`p-1 rounded text-xs font-medium flex justify-between items-center group/event gap-1
                                                ${a.type==="meeting"?"bg-blue-100 text-blue-700":a.type==="deadline"?"bg-red-100 text-red-700":a.type==="birthday"?"bg-pink-100 text-pink-700":"bg-purple-100 text-purple-700"}`,title:a.title,children:[e.jsx("span",{className:"truncate flex-1 text-left",children:a.title}),i&&e.jsx("button",{onClick:n=>{n.stopPropagation(),g(a.id,a.title)},className:"opacity-0 group-hover/event:opacity-100 p-0.5 hover:text-red-900 hover:bg-red-200/50 rounded flex-shrink-0 transition-all",children:e.jsx(b,{className:"h-3 w-3"})})]},a.id))]},t)})]})]})]}),e.jsxs("div",{className:"w-full lg:w-80 space-y-6",children:[e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs(h,{className:"flex items-center text-lg",children:[e.jsx(U,{className:"mr-2 h-5 w-5 text-pink-500"}),"Aniversariantes"]})}),e.jsx(x,{children:e.jsx("ul",{className:"space-y-4",children:f.length===0?e.jsx("p",{className:"text-secondary-500 text-sm",children:"Nenhum aniversário este mês."}):f.map(t=>e.jsxs("li",{className:"flex items-center justify-between border-b border-secondary-100 dark:border-secondary-800 pb-2 last:border-0 last:pb-0",children:[e.jsx("span",{className:"font-medium",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-secondary-500 bg-secondary-100 dark:bg-secondary-800 px-2 py-1 rounded-full",children:t.date}),i&&e.jsx("button",{onClick:()=>g(t.id,t.title),className:"text-secondary-400 hover:text-red-500",children:e.jsx(b,{className:"h-3 w-3"})})]})]},t.id))})})]}),e.jsxs(d,{className:"bg-primary-50 dark:bg-primary-900/10 border-primary-200 dark:border-primary-900/30",children:[e.jsx(m,{children:e.jsx(h,{className:"text-primary-700 dark:text-primary-400 text-lg",children:"Foco do Ciclo"})}),e.jsx(x,{children:e.jsx("p",{className:"text-primary-800 dark:text-primary-300 text-sm",dangerouslySetInnerHTML:{__html:C.cycleFocus||"Defina o foco do ciclo no painel Admin > Gerenciar Site."}})})]})]}),e.jsx(H,{isOpen:D,onClose:()=>l(!1),title:"Novo Evento",children:e.jsxs("form",{onSubmit:E(R),className:"space-y-4",children:[e.jsx(N,{label:"Título",...c("title",{required:!0}),placeholder:"Ex: Reunião de Pauta"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(N,{label:"Data (DD/MM)",...c("date",{required:!0}),placeholder:"Ex: 25/10"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Tipo"}),e.jsxs("select",{...c("type"),className:"w-full rounded-md border border-secondary-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-600 dark:bg-secondary-950 dark:border-secondary-700",children:[e.jsx("option",{value:"meeting",children:"Reunião"}),e.jsx("option",{value:"deadline",children:"Prazo/Entrega"}),e.jsx("option",{value:"event",children:"Evento"}),e.jsx("option",{value:"birthday",children:"Aniversário"})]})]})]}),e.jsxs("div",{className:"flex justify-end pt-2 gap-2",children:[e.jsx(o,{variant:"outline",type:"button",onClick:()=>l(!1),children:"Cancelar"}),e.jsx(o,{type:"submit",children:"Adicionar"})]})]})})]})}export{se as default};
