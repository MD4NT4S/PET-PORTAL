import{c as l,u as j,r as y,j as e,B as o,H as t,T as N,M as k,t as v}from"./index-Ru6Kzlbq.js";import{C as w,c as C}from"./Card-DZGJfJGn.js";import{u as M}from"./index.esm-y99Rov83.js";const S=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],E=l("quote",S);const z=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],R=l("send",z);function K(){const{feedbacks:d,addFeedback:c,removeFeedback:i,currentUser:m,userRole:x}=j(),[u,a]=y.useState(!1),{register:r,handleSubmit:p,reset:b}=M(),g=s=>{c({to:s.to,message:s.message,from:s.isAnonymous?"Anônimo":m||"Membro"}),v.success("Kudos enviado!",{description:`Sua mensagem foi entregue para ${s.to}.`,icon:e.jsx(t,{className:"text-red-500 fill-red-500"})}),b(),a(!1)},n=["bg-red-50 border-red-100 dark:bg-red-900/10 dark:border-red-900/20","bg-blue-50 border-blue-100 dark:bg-blue-900/10 dark:border-blue-900/20","bg-green-50 border-green-100 dark:bg-green-900/10 dark:border-green-900/20","bg-orange-50 border-orange-100 dark:bg-orange-900/10 dark:border-orange-900/20","bg-purple-50 border-purple-100 dark:bg-purple-900/10 dark:border-purple-900/20"];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 text-center md:text-left",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Mural de Kudos"}),e.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Reconheça o trabalho dos seus colegas. Um elogio muda o dia!"})]}),e.jsxs(o,{onClick:()=>a(!0),size:"lg",className:"rounded-full shadow-lg",children:[e.jsx(t,{className:"mr-2 h-5 w-5 fill-white"}),"Enviar Kudos"]})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:d.length===0?e.jsxs("div",{className:"col-span-full py-20 text-center",children:[e.jsx(t,{className:"mx-auto h-16 w-16 text-secondary-200 fill-secondary-50 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-secondary-900 dark:text-secondary-100",children:"O mural está vazio"}),e.jsx("p",{className:"text-secondary-500 mt-2",children:"Seja o primeiro a enviar uma mensagem positiva!"})]}):d.map((s,h)=>e.jsx(w,{className:`transform hover:-translate-y-1 transition-all duration-300 ${n[h%n.length]}`,children:e.jsxs(C,{className:"pt-6 relative",children:[e.jsx(E,{className:"h-8 w-8 text-black/5 absolute top-4 right-4"}),e.jsxs("p",{className:"text-lg font-medium italic text-secondary-800 dark:text-secondary-200 mb-6",children:['"',s.message,'"']}),e.jsx("div",{className:"flex items-end justify-between border-t border-black/5 pt-4",children:e.jsxs("div",{className:"flex gap-4 w-full",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-secondary-500 uppercase font-bold tracking-wider",children:"Para"}),e.jsx("span",{className:"font-semibold text-secondary-900 dark:text-secondary-100",children:s.to})]}),e.jsxs("div",{className:"flex flex-col text-right ml-auto",children:[e.jsx("span",{className:"text-xs text-secondary-500 uppercase font-bold tracking-wider",children:"De"}),e.jsx("span",{className:"font-semibold text-secondary-900 dark:text-secondary-100",children:s.from})]})]})}),["admin_master","admin_gp"].includes(x||"")&&e.jsx("button",{onClick:f=>{f.stopPropagation(),confirm("Remover este Kudos?")&&i(s.id)},className:"absolute top-2 right-2 p-2 text-red-300 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",title:"Remover (Admin)",children:e.jsx(N,{className:"h-4 w-4"})})]})},s.id))}),e.jsx(k,{isOpen:u,onClose:()=>a(!1),title:"Enviar Kudos",children:e.jsxs("form",{onSubmit:p(g),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Para quem?"}),e.jsx("input",{...r("to",{required:!0}),type:"text",placeholder:"Nome do colega",className:"w-full rounded-md border border-secondary-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-600 dark:bg-secondary-950 dark:border-secondary-700"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Sua mensagem"}),e.jsx("textarea",{...r("message",{required:!0}),rows:4,placeholder:"Ex: Obrigado pela ajuda com o projeto de React! Você explicou super bem.",className:"w-full rounded-md border border-secondary-300 bg-white px-3 py-2 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-primary-600 dark:bg-secondary-950 dark:border-secondary-700"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"anon-kudos",...r("isAnonymous"),className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-600"}),e.jsx("label",{htmlFor:"anon-kudos",className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Enviar anonimamente"})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[e.jsx(o,{variant:"outline",type:"button",onClick:()=>a(!1),children:"Cancelar"}),e.jsxs(o,{type:"submit",children:[e.jsx(R,{className:"mr-2 h-4 w-4"})," Enviar"]})]})]})})]})}export{K as default};
