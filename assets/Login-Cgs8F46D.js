import{u as C,d as w,r,j as e,I as l,B as p,t as a}from"./index-_QvtUJN5.js";import{C as P,a as A,b as E,d as k,c as M}from"./Card-cyhYrOI8.js";import{U as L}from"./users-C94vnpS7.js";import{L as T}from"./lock-BWNPEmlA.js";function $(){const{loginUser:m,members:b}=C(),u=w(),[t,x]=r.useState("member"),[n,h]=r.useState(""),[o,f]=r.useState(""),[c,y]=r.useState(""),[i,j]=r.useState(""),[v,d]=r.useState(!1),g=s=>{if(s.preventDefault(),!n||!o){a.error("Preencha seu nome e senha.");return}m(n,o)?(a.success(`Bem-vindo, ${n}!`),u("/")):a.error("Senha incorreta ou usuário não encontrado.")},N=s=>{if(s.preventDefault(),!c||!i){a.error("Preencha todos os campos.");return}m(c.trim(),i,!0)?(a.success("Acesso administrativo concedido."),u("/")):(d(!0),a.error("Credenciais incorretas."))};return e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-secondary-100 dark:bg-secondary-950 p-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-primary-600",children:"Portal PET - CAP"}),e.jsx("p",{className:"text-secondary-600 dark:text-secondary-400",children:"Entre para acessar sua central de gestão."})]}),e.jsxs(P,{children:[e.jsxs(A,{children:[e.jsxs("div",{className:"flex space-x-2 border-b border-secondary-200 dark:border-secondary-800 pb-1 mb-4",children:[e.jsxs("button",{onClick:()=>x("member"),className:`flex-1 flex items-center justify-center gap-2 pb-2 text-sm font-medium transition-colors border-b-2
                            ${t==="member"?"border-primary-600 text-primary-600":"border-transparent text-secondary-500 hover:text-secondary-700"}`,children:[e.jsx(L,{className:"h-4 w-4"}),"Sou Membro"]}),e.jsxs("button",{onClick:()=>x("admin"),className:`flex-1 flex items-center justify-center gap-2 pb-2 text-sm font-medium transition-colors border-b-2
                            ${t==="admin"?"border-primary-600 text-primary-600":"border-transparent text-secondary-500 hover:text-secondary-700"}`,children:[e.jsx(T,{className:"h-4 w-4"}),"Administração"]})]}),e.jsx(E,{children:t==="member"?"Acesso do Membro":"Acesso Administrativo"}),e.jsx(k,{children:t==="member"?"Selecione seu nome para continuar.":"Entre com seu email ou usuário de administrador."})]}),e.jsx(M,{children:t==="member"?e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Seu Nome"}),e.jsxs("select",{className:"w-full rounded-md border border-secondary-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-600 dark:bg-secondary-950 dark:border-secondary-700",value:n,onChange:s=>h(s.target.value),children:[e.jsx("option",{value:"",children:"Selecione..."}),b.filter(s=>s.role==="member").map(s=>e.jsx("option",{value:s.name,children:s.name},s.id))]})]}),e.jsx(l,{label:"Sua Senha",type:"password",placeholder:"••••••••",value:o,onChange:s=>f(s.target.value)}),e.jsx(p,{type:"submit",className:"w-full",children:"Entrar"})]}):e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsx(l,{label:"Email ou Usuário",type:"text",placeholder:"admin@pet.com ou Nome",value:c,onChange:s=>{y(s.target.value),d(!1)}}),e.jsx(l,{label:"Senha",type:"password",placeholder:"••••••••",value:i,onChange:s=>{j(s.target.value),d(!1)},error:v?"Credenciais incorretas":void 0}),e.jsx(p,{type:"submit",className:"w-full",children:"Acessar Painel"})]})})]}),e.jsxs("p",{className:"text-center text-xs text-secondary-500",children:["© ",new Date().getFullYear()," Portal PET"]})]})})}export{$ as default};
